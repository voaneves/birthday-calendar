document.addEventListener("DOMContentLoaded",function(){function t(t){const e=t.closest("tr"),n=e.rowIndex-1,a=c[n],r=prompt("Novo nome:",a.nome),s=prompt("Nova data:",a.data);r&&s&&(a.nome=r,a.data=s,localStorage.setItem("aniversarios",JSON.stringify(c)),o())}function e(t){const e=t.closest("tr"),n=e.rowIndex-1;n>=0&&n<c.length&&(c.splice(n,1),localStorage.setItem("aniversarios",JSON.stringify(c)),d.deleteRow(n+1))}function n(t){const[e,n,o]=t.split("/"),a=new Date(`${o}-${n}-${e}`),r=Date.now(),s=r-a.getTime(),d=Math.floor(s/315576e5);return d}function o(){d.innerHTML="<tr>\n        <th>Nome</th>\n        <th>Data</th>\n        <th>Idade</th>\n        <th>Ações</th>\n      </tr>",c.forEach((t,e)=>{const o=d.insertRow();o.innerHTML=`\n          <td>${t.nome}</td>\n          <td>${t.data.substring(0,5)}</td>\n          <td>${n(t.data)}</td>\n          <td>\n            <button class="editar">Editar</button>\n            <button class="remover">Remover</button>\n          </td>\n        `})}function a(){const t=document.querySelector(".theme");window.matchMedia("(prefers-color-scheme: dark)"),t.addEventListener("click",r)}function r(){const t=window.matchMedia("(prefers-color-scheme: dark)");document.body.classList.toggle(t.matches?"light-mode":"dark-mode")}const s=document.getElementById("form"),d=document.getElementById("tabela");let c=JSON.parse(localStorage.getItem("aniversarios"))||[];s.addEventListener("submit",function(t){t.preventDefault();const e=document.getElementById("nome").value,n=new Date(document.getElementById("data").value).toLocaleDateString(void 0,{timeZone:"UTC"});e&&n&&(c.push({nome:e,data:n}),localStorage.setItem("aniversarios",JSON.stringify(c)),s.reset(),o())}),d.addEventListener("click",function(n){const o=n.target;o.matches("button.editar")?t(o):o.matches("button.remover")&&e(o)}),s.reset(),o(),a()});